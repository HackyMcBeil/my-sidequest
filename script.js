const CHALLENGES = {
    easy: [
        "Berühre unauffällig dreimal dein linkes EAR.", "Sage das Wort 'Gurkensalat'.", "Trinke dein Glas leer.", "Frage nach dem Wetter.", "Gähne laut.", "Rücke deinen Stuhl zurecht.", "Putze deine Brille.", "Kichere leise über dein Handy.", "Streichle dein Kinn.", "Verändere deine Sitzposition.", "Summe kurz eine Melodie.", "Prüfe deinen Atem.", "Frage nach einem Taschentuch.", "Tippe mit dem Fuß.", "Schau auf die Uhr & schüttle den Kopf.", "Ordne Dinge auf dem Tisch.", "Fahre durch die Haare.", "Atme tief aus.", "Frage nach Geburtstag.", "Sage 'Ahhh' nach dem Trinken.", "Kratze deinen Ellenbogen.", "Schau an die Decke.", "Putze dein Display.", "Kopf kreisen lassen.", "Suche etwas in der Tasche.", "Zähle laut bis drei.", "Sage 'tatsächlich'.", "Getränk umstellen.", "Beine lang ausstrecken.", "Etikett lesen.", "Räusper dich.", "Zupfe am Ärmel.", "Frage: 'Warm hier?'.", "Handy ans Ohr halten.", "Wippe leicht.", "Schuhe prüfen.", "Jemanden anlächeln.", "Trommle auf den Tisch.", "Sage 'Interessant...'.", "Fenster zählen.", "Zungenspitze an Oberlippe.", "Fluse wegblasen.", "Stimme kurz verstellen.", "Beine anders überschlagen.", "Geldbeutel prüfen.", "Lampe loben.", "Finger knacksen.", "Am Getränk riechen.", "Drei Mal nicken.", "Augenbrauen hochziehen.", "Sage 'Wie dem auch sei'.", "Spiegelbild prüfen.", "Sage 'Verrückt eigentlich'.", "Kopf auf Hände stützen.", "Sage 'quasi'.", "Zehen bewegen.", "Frage: 'Geht's gut?'.", "Tischkante streicheln.", "Sage 'Kann man machen'.", "Am Ärmel riechen.", "Aufs Knie klopfen.", "Rhythmus klopfen.", "Glas 10 Sek. halten.", "Frage nach Hunger.", "Feuerzeug spielen.", "Stirn wischen.", "Frage: 'Ist das neu?'.", "Sage 'Muss ja'.", "Glas 1cm verschieben.", "Krümel wegwischen.", "Sage 'Klassiker'.", "Aus dem Fenster gucken.", "Hände reiben.", "Links trinken.", "Sage 'Man kennt es'.", "Kinn kratzen.", "Fingernägel prüfen.", "Alle meine Entchen summen.", "Füllhöhe vergleichen.", "In leeres Glas pusten.", "Socken richten.", "Handy schütteln.", "Frage: 'Das gehört?'.", "Puls prüfen.", "Arm nach oben.", "Finger an Schläfe.", "Stuhl 90 Grad rücken.", "Ohrläppchen kneten.", "Sage 'Logischerweise'.", "Mit Ring spielen.", "Hose abklopfen.", "Sage 'Schwierig'.", "Handfläche prüfen.", "Hörbar einatmen.", "Glas auf Abdruck stellen.", "Hinter dich gucken.", "Laut bis 3 zählen.", "Tisch säubern.", "Wangen klopfen.", "Handy-Kichern."
    ],
    medium: [
        "Laufe im Kreis.", "Platz tauschen.", "Flüstere etwas.", "Lache über schlechten Witz.", "Sage 'fabelhaft'.", "Spinne sehen.", "Nach Zeit fragen.", "Happy Birthday summen.", "Letztes Wort wiederholen.", "Fenster-Check.", "Pfeifen im Ohr.", "Fiktives Hobby erklären.", "Redewendung falsch nutzen.", "Glas auf Boden.", "Mücke fangen (klatschen).", "Toast-Geruch behaupten.", "Selfie mit Fotobomb.", "Geschichte abbrechen.", "High-Five verlangen.", "Kapuze aufsetzen.", "Handy-Ton laut.", "Geister-Frage.", "Déjà-vu vortäuschen.", "3-Wort-Sätze (1 Min).", "Jemanden irritiert ansehen.", "3 Komplimente.", "Laut trinken.", "Songzeile zitieren.", "Kerze anstarren.", "Dino-Frage.", "Krampf vortäuschen.", "Leitungswasser-Vortrag.", "Promi-Vergleich.", "Tisch putzen.", "Wild tippen.", "Stimme verstellen.", "Kartenspiel-Frage.", "Werbe-Jingle singen.", "Kette entknoten helfen.", "Vom anderen träumen.", "Verabschieden (bleiben).", "Einmal hüpfen.", "Nach Wasser fragen.", "Zutaten vorlesen.", "4-Liter-Lüge.", "Erstes Haustier?", "10 Sek. Starren.", "In leere Ecke zeigen.", "Glas auf den Kopf.", "Alligator-Diskussion.", "Wort 'Antiquiert'.", "Akustik loben.", "Sternzeichen-Frage.", "Spitznamen geben.", "Glas beidhändig halten.", "Zombie-Plan.", "Film-Vergleich.", "Stift balancieren.", "Serien-Tipp.", "3x rhythmisch husten.", "Übertrieben loben.", "Nutzlose App zeigen.", "Promi-Treffen-Lüge.", "Holz-Check.", "Ananas-Tattoo.", "Gruppenfoto.", "Instrument-Frage.", "Sage 'Typisch ich'.", "Wort vergessen.", "Eichhörnchen-Rettung.", "Lieblings-Monat?", "Zeh eingeschlafen.", "Ente-Pferd-Frage.", "Dehnen.", "Pizza-Frage.", "Neues Wort erfunden.", "Regen-Meldung.", "Island-Wunsch.", "Kaugummi suchen.", "WLAN-Passwort?", "Farben-Check.", "Ohren wackeln.", "Peinlicher Moment?", "Vegi-Tag einlegen.", "Vorname-Bedeutung.", "Fühle mich blau.", "Imaginäre Fernbedienung.", "Bestes Geschenk?", "Schlumpf-Ohrwurm.", "Wettbewerb-Sieg.", "Delfin-Fakt.", "Getränk ist nass.", "Schnurrbart-Frage."
    ],
    hard: [
        "Socken falsch rum.", "Klopfen gehört.", "5 Liegestütze.", "Alle aufstehen lassen.", "Akzent sprechen.", "Rede über Wasser.", "Auf Boden setzen.", "Schluckauf spielen.", "Langes High-Five.", "Blick aus Fenster.", "Handy suchen (in Hand).", "Luftgitarre.", "Simulation-Theorie.", "Sage 'Over'.", "Ecke stehen.", "Geist-SMS.", "Stuhl-Versicherung.", "Schuhe an Hände.", "Laut singen.", "Brot-Wiki vorlesen.", "Schuh-Foto machen.", "Namen vergessen.", "Gabel-Lob.", "Nur flüstern.", "Unsichtbarer Streit.", "Zeitreisender sein.", "Alle zum Singen bringen.", "Topf als Hut.", "Nur reimen.", "Kein 'und' nutzen.", "Hand halten.", "Toaster-Entführung.", "Zeitlupen-Trinken.", "Am Haar riechen.", "Majestät-Anrede.", "Zukunft aus Chips.", "Unsichtbarer Hund.", "Macht-Erschütterung.", "Spion sein.", "Tiergeräusch.", "Setzen verlernt.", "La-Ola starten.", "Glas exen.", "Katzen-Telepathie.", "Käse-Mond.", "Pinguin-Talk.", "Servietten-Krawatte.", "Unsichtbare Brille.", "Lebewesen retten.", "Nur Fragen stellen.", "Erfundene Sprache.", "Aura reinigen.", "Tanzen ohne Musik.", "Stuhl-Biss.", "Angst vor Dunkel.", "Werwolf-Modus.", "Schatten verkaufen.", "Grüne Haare Frage.", "Socken vorlesen.", "Sidequest-Phobie.", "Farben hören.", "Knie taufen.", "Kaffeemaschinen-Sound.", "Rad erfunden.", "Falscher Name.", "Hut ziehen.", "Löffel auf Nase.", "König sein.", "Atmen lernen.", "Territorium markieren.", "Pause & Starren.", "Weltuntergang.", "Agenten-Frage.", "Star Wars summen.", "Angst vor Rundem.", "Gartenzwerg-Rechte.", "Fremder Arm.", "Schaufel suchen.", "Pflanzen-Talk.", "Wand-Laufen.", "Luft-Kalorien.", "Formel-1 Sound.", "Geräte-Talk.", "Gesicht-Leinwand.", "Majestätisch laufen.", "Fliege fangen.", "Käse-Nase.", "Freund-Beleidigung.", "Ohnmacht.", "Internet gelöscht.", "Sind wir schon da?", "Menschen-Remote.", "Schatten-Angst.", "Socken-Leihe.", "Gehirnzelle weg.", "Hypnose.", "Sauerstoff-Allergie.", "Keks-Selfie."
    ]
};

let score = 0;
let cards = [];

function startGame() {
    document.getElementById('screen-howto').classList.remove('active');
    document.getElementById('screen-game').classList.add('active');
    
    // Initialer Stapel
    cards = [
        { type: 'easy', text: getRand('easy') },
        { type: 'easy', text: getRand('easy') },
        { type: 'medium', text: getRand('medium') },
        { type: 'medium', text: getRand('medium') },
        { type: 'hard', text: getRand('hard') },
        { type: 'hard', text: getRand('hard') }
    ];
    renderCards();
}

function getRand(lvl) {
    const list = CHALLENGES[lvl];
    return list[Math.floor(Math.random() * list.length)];
}

function renderCards() {
    const container = document.getElementById('card-container');
    container.innerHTML = "";
    
    // Wir zeigen nur die obersten 3 Karten für den Effekt
    cards.slice(0, 3).forEach((card, index) => {
        const div = document.createElement('div');
        div.className = `card ${card.type}`;
        
        const pts = card.type === 'easy' ? 5 : (card.type === 'medium' ? 10 : 20);
        
        div.innerHTML = `
            <div class="card-text">${card.text}</div>
            <div class="card-ui">
                <span class="ui-left">❌ LÖSCHEN (-2)</span>
                <span class="ui-right">✅ GESTERN (+${pts})</span>
            </div>`;
        
        div.onclick = (e) => {
            if (index !== 0) return; // Nur oberste Karte klickbar
            const rect = div.getBoundingClientRect();
            const isRightSide = (e.clientX - rect.left) > rect.width / 2;
            handleAction(isRightSide);
        };
        
        container.appendChild(div);
    });
}

function handleAction(success) {
    const card = cards.shift();
    if (success) {
        score += (card.type === 'easy' ? 5 : (card.type === 'medium' ? 10 : 20));
    } else {
        score -= 2;
    }
    
    // Neue Karte desselben Typs hinten anfügen
    cards.push({ type: card.type, text: getRand(card.type) });
    
    document.getElementById('display-score').innerText = score;
    renderCards();
}
